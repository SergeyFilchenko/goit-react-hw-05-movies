"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[271],{8950:function(e,n,t){t.d(n,{l3:function(){return g},b:function(){return f},$o:function(){return l},$G:function(){return v},Mb:function(){return d}});var r=t(5861),a=t(885),i=t(7757),c=t.n(i),s=t(2791),u=t(6871),o=t(9403);function l(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],l=(0,s.useState)(!1),f=(0,a.Z)(l,2),p=f[0],h=f[1],v=(0,u.UO)().movieId,d=(0,u.s0)();return(0,s.useEffect)((function(){if(isNaN(v)||v.length>6)d("/");else{var e=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,o.hG)(v);case 4:n=e.sent,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[v,d]),{filmDetails:t,isLoading:p}}function f(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],l=(0,s.useState)(!1),f=(0,a.Z)(l,2),p=f[0],h=f[1],v=(0,u.UO)().movieId;return(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,o.jf)(v);case 4:n=e.sent,i(n.cast),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message,"ERROR by useFechCastOfTheFilm");case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),{cast:t,isLoading:p}}var p=t(2007),h=t.n(p);function v(e){var n=(0,s.useState)([]),t=(0,a.Z)(n,2),i=t[0],u=t[1],l=(0,s.useState)(!1),f=(0,a.Z)(l,2),p=f[0],h=f[1];return(0,s.useEffect)((function(){function n(){return(n=(0,r.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.prev=1,n.next=4,(0,o.z1)(e);case 4:if(0!==(t=n.sent).results.length){n.next=7;break}return n.abrupt("return",alert('Nothing was found for the query "'.concat(e,'", please specify your query)')));case 7:u(t.results),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0.message,"An error occurred in useFetchSearchMovieOnRequest");case 13:return n.prev=13,h(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[e]),{filmsBySearch:i,isLoading:p}}function d(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],u=(0,s.useState)(!1),l=(0,a.Z)(u,2),f=l[0],p=l[1];return(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,(0,o.Hg)();case 4:n=e.sent,i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{films:t,isLoading:f}}function g(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),t=n[0],i=n[1],l=(0,s.useState)(!1),f=(0,a.Z)(l,2),p=f[0],h=f[1],v=(0,u.UO)().movieId;return(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,o.Cm)(v);case 4:n=e.sent,i(n.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message,"ERROR by useFatchReviewsOfTheFilm");case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v]),{review:t,isLoading:p}}v.propTypes={searchQuery:h().string.isRequired}},9403:function(e,n,t){t.d(n,{Cm:function(){return x},Hg:function(){return l},hG:function(){return v},jf:function(){return g},yA:function(){return u},z1:function(){return p}});var r=t(5861),a=t(7757),i=t.n(a),c=t(4569),s=t.n(c),u="https://image.tmdb.org/t/p/w500";s().defaults.baseURL="https://api.themoviedb.org/3";var o="191efeeb865bc4c787fee73d3a367440";function l(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/trending/all/week?api_key=".concat(o));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/search/movie?api_key=".concat(o,"&language=en-US&page=1&query=").concat(n,"&include_adult=true"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/movie/".concat(n,"?api_key=").concat(o,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/movie/".concat(n,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/movie/".concat(n,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8271:function(e,n,t){t.r(n);var r=t(6871),a=t(501),i=t(8950),c=t(8735),s=t(1399),u=t(3046),o=t(9403),l=t(184);n.default=function(){var e=(0,i.$o)(),n=e.filmDetails,t=e.isLoading,f=n.name,p=n.title,h=n.poster_path,v=n.release_date,d=void 0===v?"2022-00-00":v,g=n.vote_average,m=n.overview,x=n.genres,k=void 0===x?[{id:1,name:""}]:x,y=(0,r.s0)(),b=(0,r.TH)();return(0,l.jsxs)(c.xu,{p:4,children:[(0,l.jsx)(c.xu,{mb:"10",children:(0,l.jsx)(s.zx,{colorScheme:"gray",type:"button",onClick:function(){var e;y((null===b||void 0===b||null===(e=b.state)||void 0===e?void 0:e.from)||"/")},children:"Go Back"})}),t&&"Loading...",(0,l.jsxs)(c.kC,{children:[!t&&(0,l.jsx)(c.xu,{mr:"7",minW:"15rem",children:(0,l.jsx)(u.Ee,{src:h?"".concat(o.yA+h):"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",alt:null!==p&&void 0!==p?p:f,borderRadius:"lg"})}),!t&&(0,l.jsxs)(c.xu,{children:[(0,l.jsxs)(c.xv,{fontSize:"3xl",fontWeight:"700",children:[p," ",d.slice(0,4)]}),(0,l.jsx)(c.xv,{fontWeight:"700",children:"User Score:"}),(0,l.jsxs)(c.xv,{children:[" ",g]}),(0,l.jsx)(c.xv,{fontWeight:"700",children:"Overview:"}),(0,l.jsxs)(c.xv,{children:[" ",m]}),(0,l.jsx)(c.xv,{fontWeight:"700",children:"Ganres:"}),k.map((function(e){return(0,l.jsx)(c.xv,{children:e.name},e.id)}))]})]}),(0,l.jsxs)(c.M5,{children:[(0,l.jsx)(c.xv,{as:a.OL,to:"cast",state:b.state,mr:"20",fontSize:"4xl",children:"Cast"}),(0,l.jsx)(c.xv,{as:a.OL,to:"reviews",state:b.state,mr:"20",fontSize:"4xl",children:"Reviews"})]}),(0,l.jsx)(r.j3,{})]})}},3046:function(e,n,t){t.d(n,{Ee:function(){return p}});var r=t(1340),a=t(6831),i=t(2791),c=t(4083);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var o=["htmlWidth","htmlHeight","alt"],l=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],f=i.forwardRef((function(e,n){var t=e.htmlWidth,r=e.htmlHeight,a=e.alt,c=u(e,o);return i.createElement("img",s({width:t,height:r,ref:n,alt:a},c))})),p=(0,r.Gp)((function(e,n){var t=e.fallbackSrc,o=e.fallback,p=e.src,h=e.srcSet,v=e.align,d=e.fit,g=e.loading,m=e.ignoreFallback,x=e.crossOrigin,k=u(e,l),y=null!=g||m||void 0===t&&void 0===o,b=function(e){var n=e.loading,t=e.src,r=e.srcSet,a=e.onLoad,s=e.onError,u=e.crossOrigin,o=e.sizes,l=e.ignoreFallback,f=(0,i.useState)("pending"),p=f[0],h=f[1];(0,i.useEffect)((function(){h(t?"loading":"pending")}),[t]);var v=(0,i.useRef)(),d=(0,i.useCallback)((function(){if(t){g();var e=new Image;e.src=t,u&&(e.crossOrigin=u),r&&(e.srcset=r),o&&(e.sizes=o),n&&(e.loading=n),e.onload=function(e){g(),h("loaded"),null==a||a(e)},e.onerror=function(e){g(),h("failed"),null==s||s(e)},v.current=e}}),[t,u,r,o,a,s,n]),g=function(){v.current&&(v.current.onload=null,v.current.onerror=null,v.current=null)};return(0,c.a)((function(){if(!l)return"loading"===p&&d(),function(){g()}}),[p,d,l]),l?"loaded":p}(s({},e,{ignoreFallback:y})),w=s({ref:n,objectFit:d,objectPosition:v},y?k:(0,a.CE)(k,["onError","onLoad"]));return"loaded"!==b?o||i.createElement(r.m$.img,s({as:f,className:"chakra-image__placeholder",src:t},w)):i.createElement(r.m$.img,s({as:f,src:p,srcSet:h,crossOrigin:x,loading:g,className:"chakra-image"},w))}));a.Ts&&(p.displayName="Image")}}]);
//# sourceMappingURL=271.f35a6273.chunk.js.map